{
  "name": "extas/workflow",
  "package_classes": [
    {
      "interfaces": "extas\\interfaces\\workflows\\schemas\\IWorkflowSchemaRepository",
      "class": "extas\\components\\workflows\\schemas\\WorkflowSchemaRepository"
    },
    {
      "interfaces": "extas\\interfaces\\workflows\\transitions\\IWorkflowTransitionRepository",
      "class": "extas\\components\\workflows\\transitions\\WorkflowTransitionRepository"
    },
    {
      "interfaces": "extas\\interfaces\\workflows\\states\\IWorkflowStateRepository",
      "class": "extas\\components\\workflows\\states\\WorkflowStateRepository"
    },
    {
      "interfaces": "extas\\interfaces\\workflows\\transitions\\dispatchers\\ITransitionDispatcherRepository",
      "class": "extas\\components\\workflows\\transitions\\dispatchers\\TransitionDispatcherRepository"
    },
    {
      "interfaces": "extas\\interfaces\\workflows\\transitions\\dispatchers\\ITransitionDispatcherTemplateRepository",
      "class": "extas\\components\\workflows\\transitions\\dispatchers\\TransitionDispatcherTemplateRepository"
    }
  ],
  "plugins": [
    {
      "class": "extas\\components\\plugins\\PluginInstallWorkflowSchemas",
      "stage": "extas.install"
    },
    {
      "class": "extas\\components\\plugins\\PluginInstallWorkflowTransitions",
      "stage": "extas.install"
    },
    {
      "class": "extas\\components\\plugins\\PluginInstallWorkflowStates",
      "stage": "extas.install"
    },
    {
      "class": "extas\\components\\plugins\\PluginInstallTransitionDispatchers",
      "stage": "extas.install"
    },
    {
      "class": "extas\\components\\plugins\\PluginInstallTransitionDispatcherTemplates",
      "stage": "extas.install"
    }
  ],
  "workflow_transition_dispatchers": [
    {
      "type": "trigger",
      "name": "demo_hello_world",
      "title": "",
      "description": "",
      "template": "demo_hello_world",
      "schema_name": "demo",
      "transition_name": "get_in_work",
      "parameters": [
        {
          "name": "lang",
          "value": "ru"
        }
      ]
    },
    {
      "type": "validator",
      "name": "demo_hello_world",
      "template": "demo_hello_world",
      "schema_name": "demo",
      "transition_name": "get_in_work",
      "parameters": [
        {
          "name": "name",
          "value": "jeyroik"
        }
      ]
    }
  ],
  "workflow_schemas": [
    {
      "name": "demo",
      "title": "",
      "description": "",
      "states": ["todo", "in_work", "done", "not_actual"],
      "transitions": ["get_in_work", "done", "not_actual"],
      "parameters": [
        {
          "name": "author",
          "value": "jeyroik"
        },
        {
          "name": "created_at",
          "value": 123456789
        },
        {
          "name": "updated_at",
          "value": 123546789
        }
      ]
    }
  ],
  "workflow_transition_dispatcher_templates": [
    {
      "name": "demo_trigger_hello_world",
      "title": "Demo",
      "description": "Print Hello World",
      "class": "extas\\components\\plugins\\workflows\\triggers\\TriggerHelloWorld",
      "parameters": [
        {
          "name": "lang",
          "value": "",
          "template": "string",
          "template@string": {
            "min": 2,
            "max": 4
          }
        }
      ]
    },
    {
      "name": "demo_validator_hello_world",
      "title": "Demo",
      "description": "Check for param `name` in a context",
      "class": "extas\\components\\plugins\\workflows\\validators\\ValidatorHelloWorld",
      "parameters": [
        {
          "name": "name",
          "value": "",
          "template": "string",
          "string": {
            "min": 1,
            "max": 256
          }
        }
      ]
    }
  ],
  "workflow_transitions": [
    {
      "name": "get_in_work",
      "title": "",
      "description": "",
      "state_from": "todo",
      "state_to": "in_work"
    },
    {
      "name": "done",
      "title": "",
      "description": "",
      "state_from": "in_work",
      "state_to": "done"
    },
    {
      "name": "not_actual",
      "title": "",
      "description": "",
      "state_from": "*",
      "state_to": "not_actual"
    }
  ],
  "workflow_states": [
    {
      "name": "todo",
      "title": "",
      "description": "",
      "parameters": []
    },
    {
      "name": "in_work",
      "title": "",
      "description": "",
      "parameters": []
    },
    {
      "name": "done",
      "title": "",
      "description": "",
      "parameters": []
    },
    {
      "name": "not_actual",
      "title": "",
      "description": "",
      "parameters": []
    }
  ]
}